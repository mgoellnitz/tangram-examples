<?xml version="1.0" encoding="utf-8"?>
<!--
  
  Copyright (C) 2011-2014 Martin Goellnitz
  
  This work is licensed under the Creative Commons Attribution 3.0 
  Unported License. To view a copy of this license, visit 
  http://creativecommons.org/licenses/by/3.0/ or send a letter to 
  Creative Commons, 444 Castro Street, Suite 900, Mountain View, 
  California, 94041, USA.
  
-->
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.2.xsd">

  <!-- application protection -->
  
  <!-- only use google internal login facility -->

  <util:set id="loginProviders" value-type="java.lang.String">
    <value>gae</value>
  </util:set>

  <!-- gae is not part of the defaults -->  
  <util:set id="freeUrls" value-type="java.lang.String">
    <value>${tangram.servlet.path}/stats</value>
    <value>${tangram.servlet.path}/login</value>
    <value>${tangram.servlet.path}/callback</value>
    <value>${tangram.servlet.path}/login-form</value>
    <value>${tangram.servlet.path}/redirect/form</value>
    <value>${tangram.servlet.path}/redirect/basic</value>
    <value>${tangram.servlet.path}/redirect/gae</value>
  </util:set>
    
  <!-- remove this definition if you don't want generic login for all pages
  -->
  <util:set id="allowedUsers" value-type="java.lang.String">
    <value>gae:test@example.com</value>
    <value>form:admin</value>
  </util:set>

  <util:set id="adminUsers" value-type="java.lang.String">
    <value>gae:test@example.com</value>
    <value>form:admin</value>
    <value>form:user</value>
  </util:set>
  
  <!-- this mapping for basic authentication and form based authentication may be empty but must be present -->
  
  <util:map id="usernamePasswordMapping" key-type="java.lang.String" value-type="java.lang.String">
    <entry key="user" value="04f8996da763b7a969b1028ee3007569eaf3a635486ddab211d512c85b9df8fb" />
    <entry key="admin" value="8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918" />
  </util:map>
  
</beans>