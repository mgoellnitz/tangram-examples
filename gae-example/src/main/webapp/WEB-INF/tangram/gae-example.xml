<?xml version="1.0" encoding="utf-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context-3.0.xsd">

	<!-- application protection -->

            <!-- we consider it common that you will want to leave the measure time interceptor for measurement of timings
               and results on the /stats page and the password interceptor to define allowed users and the list of admin users
               for this application. By default this will be google accounts. You might tweak this to OpenID and use 
               protections from within the application to setup protected areas and not so protect the whole system -->
	<bean name="interceptors" class="java.util.ArrayList">
		<constructor-arg>
			<list>
				<bean class="org.tangram.monitor.MeasureTimeInterceptor">
					<property name="freeUrls">
						<set>
							<value>${spring.dispatcher.servlet.path}/stats</value>
							<value>${spring.dispatcher.servlet.path}/clear</value>
						</set>
					</property>
				</bean>
				<bean class="org.tangram.gae.security.PasswordInterceptor">
					<property name="freeUrls">
						<set>
							<value>${spring.dispatcher.servlet.path}/stats</value>
							<value>${spring.dispatcher.servlet.path}/clear</value>
						</set>
					</property>
					<property name="allowedUsers">
						<set>
							<value>test@example.com</value>
						</set>
					</property>
					<property name="adminUsers">
						<set>
							<value>test@example.com</value>
						</set>
					</property>
				</bean>
			</list>
		</constructor-arg>
	</bean>

</beans>